(()=>{"use strict";var e,t={241:(e,t)=>{function n(e,t){const n=document.createElement("p");return n.innerText=t,e.hasChildNodes()?e.append(n):e.appendChild(n),n}async function a(e){const t=`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=29322a2e1ecf125b380cfcee03239f35&units=metric`,n=await fetch(t);return await n.json()}function o(e){return`\n    In ${e.name} now is \n    ${e.weather[0].main},\n    Temperature: ${e.main.temp} C,\n    Temperature is feels like: ${e.main.feels_like} C,\n    Humidity:${e.main.humidity}%,\n    Atmospheric pressure: ${e.main.pressure} Pa,\n    Wind speed: ${e.wind.speed} m/s`}function c(e){return document.getElementById(e).value}function r(e,t,n=0){e.getElementsByTagName("p").item(n).innerText=t}function i(e,t){const n=`http://maps.googleapis.com/maps/api/staticmap?center=${t.coord.lat},${t.coord.lon}&zoom=10&size=400x400&key=AIzaSyAu9cQhEoU0Uj0-GkEBnWGP_4WpRdos6LU`;e.getElementsByTagName("img").item(0).src=n}async function l(){const e=this.innerText,t=await a(e),n=o(t);r(document.getElementById("block3"),n),i(document.getElementById("imageBlock"),t)}function m(e){for(let t=0;t<10;t+=1){const n=localStorage.key(`${t}`);if(""===localStorage.getItem(n)){localStorage.setItem(n,e);break}}}function d(e,t="block4"){const a=document.getElementById(t),o=a.getElementsByTagName("p");for(let t=0;t<o.length;t+=1)if(e===o.item(t).innerText)return null;return o.length>9&&(a.removeChild(o.item(0)),localStorage.setItem("0","")),n(a,e).addEventListener("click",l),m(e),null}async function u(){const e=c("input"),t=await a(e),n=o(t);r(document.getElementById("block3"),n),d(e),i(document.getElementById("imageBlock"),t)}Object.defineProperty(t,"__esModule",{value:!0}),t.createParagraph=n,t.createInput=function(e){const t=document.createElement("input");t.type="text",t.id="input",e.append(t)},t.createBlock=function(e,t,n="app"){const a=document.createElement("div");a.id=t,"app"===n?e.append(a):"prep"===n&&e.prepend(a)},t.createImgOfCityMap=function(e){const t=document.createElement("img");t.id="image",e.append(t)},t.getWeather=a,t.defineUserCity=async function(){const e=await fetch("https://get.geojs.io/v1/ip/geo.json");return(await e.json()).city},t.createData=o,t.getInputText=c,t.rewriteParagraph=r,t.changeSourceOfImage=i,t.getWeatherByClick=l,t.addToStorage=m,t.addCityToList=d,t.initStorage=function(){if(localStorage.length>0)return null;for(let e=0;e<10;e+=1)localStorage.setItem(`${e}`,"");return null},t.readFromStorage=async function(e){if(0===localStorage.length)return null;for(let t=0;t<10;t+=1){const a=localStorage.key(`${t}`),o=localStorage.getItem(a);if(null===o)break;n(document.getElementById(e),o).addEventListener("click",l)}return null},t.default=u,t.createButton=function(e){const t=document.createElement("button");t.innerText="Show weather",t.addEventListener("click",u),e.append(t)}}},n={};(0,(e=function e(a){if(n[a])return n[a].exports;var o=n[a]={exports:{}};return t[a](o,o.exports,e),o.exports}(241)).initStorage)(),async function(){const t=await(0,e.defineUserCity)(),n=await(0,e.getWeather)(t),a=(0,e.createData)(n);(0,e.createBlock)(document.getElementById("app"),"block1","prep"),(0,e.createParagraph)(document.getElementById("block1"),"Weather in your city:"),(0,e.createParagraph)(document.getElementById("block1"),a)}(),(0,e.createBlock)(document.getElementById("app"),"block2"),(0,e.createParagraph)(document.getElementById("block2"),"Enter a city name:"),(0,e.createInput)(document.getElementById("block2")),(0,e.createButton)(document.getElementById("block2")),(0,e.createBlock)(document.getElementById("app"),"block3"),(0,e.createParagraph)(document.getElementById("block3"),""),(0,e.createBlock)(document.getElementById("app"),"imageBlock"),(0,e.createImgOfCityMap)(document.getElementById("imageBlock")),(0,e.createBlock)(document.getElementById("app"),"history"),(0,e.createParagraph)(document.getElementById("history"),"History of search:"),(0,e.createBlock)(document.getElementById("app"),"block4"),(0,e.readFromStorage)("block4")})();